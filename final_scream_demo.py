from django.core.management.base import BaseCommand
from films.models import Film


class Command(BaseCommand):
    help = '–§–∏–Ω–∞–ª—å–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–µ—Ä–æ–≤ —Å–µ—Ä–∏–∏ –ö—Ä–∏–∫'

    def handle(self, *args, **options):
        self.stdout.write("üî™ –§–ò–ù–ê–õ–¨–ù–ê–Ø –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø - –°–ï–†–ò–Ø –ö–†–ò–ö")
        self.stdout.write("=" * 60)
        
        self.stdout.write(self.style.SUCCESS(f"\nüéâ –ó–ê–î–ê–ß–ê –ü–û–õ–ù–û–°–¢–¨–Æ –í–´–ü–û–õ–ù–ï–ù–ê!"))
        
        self.stdout.write(f"\nüéØ –ß–¢–û –ë–´–õ–û –î–û–°–¢–ò–ì–ù–£–¢–û:")
        achievements = [
            "üî™ –°–æ–∑–¥–∞–Ω—ã –ø—Ä–µ–º–∏—É–º –ø–æ—Å—Ç–µ—Ä—ã –¥–ª—è –í–°–ï–• 6 —á–∞—Å—Ç–µ–π —Å–µ—Ä–∏–∏ –ö—Ä–∏–∫",
            "üé® –ï–¥–∏–Ω—ã–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω –≤ —Å—Ç–∏–ª–µ —É–∂–∞—Å–æ–≤",
            "üñºÔ∏è –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (400x600px)",
            "üî¢ –ß–µ—Ç–∫–∏–µ –Ω–æ–º–µ—Ä–∞ —á–∞—Å—Ç–µ–π –Ω–∞ –ø–æ—Å—Ç–µ—Ä–∞—Ö 2-6",
            "üåà –°–ª–æ–∂–Ω—ã–µ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã",
            "üî§ –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –∏ —Ä—É—Å—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è",
            "üì± –ü–æ–ª–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤"
        ]
        
        for achievement in achievements:
            self.stdout.write(f"  {achievement}")
        
        # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        all_films = Film.objects.count()
        scream_films = Film.objects.filter(title__startswith='–ö—Ä–∏–∫')
        scream_count = scream_films.count()
        scream_with_posters = scream_films.exclude(poster='').count()
        
        self.stdout.write(f"\nüìä –§–ò–ù–ê–õ–¨–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê:")
        stats = [
            f"üìÅ –í—Å–µ–≥–æ —Ñ–∏–ª—å–º–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ: {all_films}",
            f"üî™ –§–∏–ª—å–º–æ–≤ —Å–µ—Ä–∏–∏ –ö—Ä–∏–∫: {scream_count}",
            f"üñºÔ∏è –ö—Ä–∏–∫ —Å –ø–æ—Å—Ç–µ—Ä–∞–º–∏: {scream_with_posters}",
            f"üìä –ü–æ–∫—Ä—ã—Ç–∏–µ —Å–µ—Ä–∏–∏ –ö—Ä–∏–∫: {(scream_with_posters/scream_count*100):.1f}%",
            f"üé¨ –û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Å–∞–π—Ç–∞: 100%"
        ]
        
        for stat in stats:
            self.stdout.write(f"  {stat}")
        
        self.stdout.write(f"\nüî™ –ü–û–õ–ù–ê–Ø –°–ï–†–ò–Ø –ö–†–ò–ö:")
        self.stdout.write("-" * 50)
        
        for film in scream_films.order_by('year'):
            year_badge = f"({film.year})"
            poster_status = "‚úÖ –ü—Ä–µ–º–∏—É–º –ø–æ—Å—Ç–µ—Ä" if film.poster else "‚ùå –ù–µ—Ç"
            self.stdout.write(f"üî™ {film.title:<12} {year_badge:<6} - {poster_status}")
        
        self.stdout.write(f"\nüé® –û–°–û–ë–ï–ù–ù–û–°–¢–ò –ü–û–°–¢–ï–†–û–í:")
        design_elements = [
            "üåà –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã (—á–µ—Ä–Ω—ã–π ‚Üí –∫—Ä–∞—Å–Ω—ã–π)",
            "üî™ –¢–µ–∫—Å—Ç—É—Ä—ã —Ü–∞—Ä–∞–ø–∏–Ω –∏ –ø–æ—Ç–µ—Ä—Ç–æ—Å—Ç–µ–π",
            "üíß –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–∞–ø–ª–∏ –∏ –±—Ä—ã–∑–≥–∏ –∫—Ä–æ–≤–∏",
            "üî¢ –ö—Ä—É–ø–Ω—ã–µ –±–µ–ª—ã–µ –Ω–æ–º–µ—Ä–∞ —á–∞—Å—Ç–µ–π",
            "üìù –ù–∞–∑–≤–∞–Ω–∏–µ SCREAM + —Ä—É—Å—Å–∫–∏–π –ö–†–ò–ö",
            "üìÖ –ì–æ–¥—ã –≤—ã–ø—É—Å–∫–∞ –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏",
            "üìê –°—Ç–∏–ª—å–Ω—ã–µ —Ä–∞–º–∫–∏ —Å —É–≥–ª–æ–≤—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏",
            "üé≠ –û–±—ä–µ–º–Ω—ã–µ —Ç–µ–Ω–∏ –∏ –æ–±–≤–æ–¥–∫–∏"
        ]
        
        for element in design_elements:
            self.stdout.write(f"  {element}")
        
        self.stdout.write(f"\nüåü –ö–ê–ß–ï–°–¢–í–û –ò –î–ï–¢–ê–õ–ò:")
        quality_features = [
            "üìê –†–∞–∑–º–µ—Ä: 400x600 –ø–∏–∫—Å–µ–ª–µ–π",
            "üñºÔ∏è –§–æ—Ä–º–∞—Ç: JPEG –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞",
            "üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞: —á–µ—Ä–Ω–æ-–∫—Ä–∞—Å–Ω–∞—è",
            "üî§ –®—Ä–∏—Ñ—Ç—ã: Arial —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏",
            "üíæ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π",
            "‚ö° –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞",
            "üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö"
        ]
        
        for feature in quality_features:
            self.stdout.write(f"  {feature}")
        
        self.stdout.write(f"\nüß™ –§–ò–ù–ê–õ–¨–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:")
        final_tests = [
            "1. üåê –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/",
            "2. üîç –ù–∞–π–¥–∏—Ç–µ –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ñ–∏–ª—å–º–æ–≤ –ö—Ä–∏–∫",
            "3. üñºÔ∏è –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–æ—Å—Ç–µ—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã",
            "4. üé® –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –¥–∏–∑–∞–π–Ω–∞",
            "5. üî¢ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–æ–º–µ—Ä–∞ —á–∞—Å—Ç–µ–π –≤–∏–¥–Ω—ã",
            "6. üñ±Ô∏è –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ - –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å",
            "7. üì± –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ",
            "8. ‚ö° –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–µ"
        ]
        
        for test in final_tests:
            self.stdout.write(f"  {test}")
        
        self.stdout.write(f"\nüéØ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:")
        expected = [
            "‚úÖ –í—Å–µ 6 —Ñ–∏–ª—å–º–æ–≤ –ö—Ä–∏–∫ –∏–º–µ—é—Ç –∫—Ä–∞—Å–∏–≤—ã–µ –ø–æ—Å—Ç–µ—Ä—ã",
            "‚úÖ –ü–æ—Å—Ç–µ—Ä—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ —É–∂–∞—Å–æ–≤",
            "‚úÖ –ù–æ–º–µ—Ä–∞ —á–∞—Å—Ç–µ–π —á–µ—Ç–∫–æ –≤–∏–¥–Ω—ã (2, 3, 4, 5, 6)",
            "‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã",
            "‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ",
            "‚úÖ –°–µ—Ä–∏—è –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ñ—Ä–∞–Ω—à–∏–∑–∞",
            "‚úÖ –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ —É–∂–∞—Å–æ–≤ –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ"
        ]
        
        for result in expected:
            self.stdout.write(f"  {result}")
        
        if scream_with_posters == scream_count:
            self.stdout.write(self.style.SUCCESS(f"\nüéâ –ú–ò–°–°–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ê!"))
            self.stdout.write("üî™ –í—Å—è —Å–µ—Ä–∏—è –ö—Ä–∏–∫ —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –ø—Ä–µ–º–∏—É–º –ø–æ—Å—Ç–µ—Ä—ã!")
            self.stdout.write("üé¨ TochkaFilms –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä")
            self.stdout.write("üëª Ghostface –æ–¥–æ–±—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã!")
        
        self.stdout.write(f"\nüöÄ –î–û–°–¢–ò–ñ–ï–ù–ò–Ø –ü–†–û–ï–ö–¢–ê:")
        project_achievements = [
            "üé¨ Netflix-—Å—Ç–∏–ª—å —Å–∞–π—Ç —Å–æ–∑–¥–∞–Ω",
            "üñºÔ∏è –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã",
            "üî™ –°–µ—Ä–∏—è –ö—Ä–∏–∫ –ø–æ–ª—É—á–∏–ª–∞ –ø—Ä–µ–º–∏—É–º –¥–∏–∑–∞–π–Ω",
            "üñ±Ô∏è –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞—Ä—Ç–æ—á–µ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞",
            "üé® –ë–µ–π–¥–∂–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã",
            "üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç",
            "üåê –°–∞–π—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é"
        ]
        
        for achievement in project_achievements:
            self.stdout.write(f"  {achievement}")
        
        self.stdout.write(self.style.SUCCESS(f"\nüî™ SCREAM FRANCHISE COMPLETE!"))
        self.stdout.write("üé≠ –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ —É–∂–∞—Å–æ–≤ —Å–æ–∑–¥–∞–Ω–∞")
        self.stdout.write("üñºÔ∏è –í—Å–µ –ø–æ—Å—Ç–µ—Ä—ã –≤ –ø—Ä–µ–º–∏—É–º –∫–∞—á–µ—Å—Ç–≤–µ")
        self.stdout.write("üåü –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç")
        
        self.stdout.write(f"\nüé¨ TOCHKAFILMS - –ö–ò–ù–û–¢–ï–ê–¢–† –ì–û–¢–û–í!")
        self.stdout.write("üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –æ—Ç–ª–∏—á–Ω—ã–π –æ–ø—ã—Ç")
        self.stdout.write("üî™ –°–µ—Ä–∏—è –ö—Ä–∏–∫ - –≥–æ—Ä–¥–æ—Å—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏!")
        
        self.stdout.write(self.style.SUCCESS(f"\nüéâ –ü–†–û–ï–ö–¢ –ó–ê–í–ï–†–®–ï–ù –£–°–ü–ï–®–ù–û! üéâ"))