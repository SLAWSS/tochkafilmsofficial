from django.core.management.base import BaseCommand
from films.models import Film


class Command(BaseCommand):
    help = '–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–µ—Ä–æ–≤ –≤—Å–µ—Ö —á–∞—Å—Ç–µ–π —Å–µ—Ä–∏–∏ –ö—Ä–∏–∫'

    def handle(self, *args, **options):
        self.stdout.write("üî™ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ü–û–°–¢–ï–†–û–í –°–ï–†–ò–ò –ö–†–ò–ö")
        self.stdout.write("=" * 60)
        
        self.stdout.write(f"\n‚úÖ –ó–ê–î–ê–ß–ê –í–´–ü–û–õ–ù–ï–ù–ê!")
        
        self.stdout.write(f"\nüéØ –ß–¢–û –ë–´–õ–û –°–û–ó–î–ê–ù–û:")
        achievements = [
            "üî™ –ü—Ä–µ–º–∏—É–º –ø–æ—Å—Ç–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö 6 —á–∞—Å—Ç–µ–π —Å–µ—Ä–∏–∏ –ö—Ä–∏–∫",
            "üé® –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –≤ –¥—É—Ö–µ —Ñ–∏–ª—å–º–æ–≤ —É–∂–∞—Å–æ–≤",
            "üåà –°–ª–æ–∂–Ω—ã–µ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã",
            "üñºÔ∏è –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–∏–∑–∞–π–Ω–∞",
            "üì± –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤",
            "üî§ –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –∏ —Ä—É—Å—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è"
        ]
        
        for achievement in achievements:
            self.stdout.write(f"  {achievement}")
        
        # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Ñ–∏–ª—å–º—ã –ö—Ä–∏–∫
        scream_films = Film.objects.filter(title__startswith='–ö—Ä–∏–∫').order_by('year')
        
        self.stdout.write(f"\nüî™ –°–ï–†–ò–Ø –ö–†–ò–ö - –í–°–ï –ß–ê–°–¢–ò:")
        self.stdout.write("-" * 60)
        
        for i, film in enumerate(scream_films, 1):
            poster_info = "‚úÖ –ü—Ä–µ–º–∏—É–º –ø–æ—Å—Ç–µ—Ä" if film.poster else "‚ùå –ù–µ—Ç –ø–æ—Å—Ç–µ—Ä–∞"
            self.stdout.write(f"{i}. {film.title:<12} ({film.year}) - {poster_info}")
            if film.poster:
                self.stdout.write(f"   üìÅ {film.poster.name}")
            self.stdout.write("")
        
        self.stdout.write(f"üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –°–ï–†–ò–ò:")
        total_scream = scream_films.count()
        with_posters = scream_films.exclude(poster='').count()
        
        stats = [
            f"üî™ –í—Å–µ–≥–æ —Ñ–∏–ª—å–º–æ–≤ –ö—Ä–∏–∫: {total_scream}",
            f"üñºÔ∏è –° –ø–æ—Å—Ç–µ—Ä–∞–º–∏: {with_posters}",
            f"üìä –ü–æ–∫—Ä—ã—Ç–∏–µ: {(with_posters/total_scream*100):.1f}%"
        ]
        
        for stat in stats:
            self.stdout.write(f"  {stat}")
        
        self.stdout.write(f"\nüé® –û–°–û–ë–ï–ù–ù–û–°–¢–ò –î–ò–ó–ê–ô–ù–ê:")
        design_features = [
            "üåà –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –æ—Ç —á–µ—Ä–Ω–æ–≥–æ –∫ –∫—Ä–∞—Å–Ω–æ–º—É",
            "üî™ –¢–µ–∫—Å—Ç—É—Ä—ã —Ü–∞—Ä–∞–ø–∏–Ω –∏ –ø–æ—Ç–µ—Ä—Ç–æ—Å—Ç–µ–π",
            "üíß –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–∞–ø–ª–∏ –∏ –±—Ä—ã–∑–≥–∏ –∫—Ä–æ–≤–∏",
            "üî¢ –ö—Ä—É–ø–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ —á–∞—Å—Ç–µ–π (2, 3, 4, 5, 6)",
            "üî§ –ù–∞–∑–≤–∞–Ω–∏–µ SCREAM + —Ä—É—Å—Å–∫–∏–π –ö–†–ò–ö",
            "üìÖ –ì–æ–¥—ã –≤—ã–ø—É—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤",
            "üìê –°—Ç–∏–ª—å–Ω—ã–µ —Ä–∞–º–∫–∏ —Å —É–≥–ª–æ–≤—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏",
            "üé≠ –û–±—ä–µ–º–Ω—ã–µ —Ç–µ–Ω–∏ –∏ –æ–±–≤–æ–¥–∫–∏ —Ç–µ–∫—Å—Ç–∞"
        ]
        
        for feature in design_features:
            self.stdout.write(f"  {feature}")
        
        self.stdout.write(f"\nüé¨ –û–ü–ò–°–ê–ù–ò–ï –ö–ê–ñ–î–û–ì–û –ü–û–°–¢–ï–†–ê:")
        
        poster_descriptions = [
            ("–ö—Ä–∏–∫ (1996)", "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω –±–µ–∑ –Ω–æ–º–µ—Ä–∞, –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–∏"),
            ("–ö—Ä–∏–∫ 2 (1997)", "–ë–æ–ª—å—à–∞—è —Ü–∏—Ñ—Ä–∞ '2', —É—Å–∏–ª–µ–Ω–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ —É–∂–∞—Å–∞"),
            ("–ö—Ä–∏–∫ 3 (2000)", "–¶–∏—Ñ—Ä–∞ '3' —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏"),
            ("–ö—Ä–∏–∫ 4 (2011)", "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å —Ü–∏—Ñ—Ä–æ–π '4'"),
            ("–ö—Ä–∏–∫ 5 (2022)", "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å —Å —Ü–∏—Ñ—Ä–æ–π '5'"),
            ("–ö—Ä–∏–∫ 6 (2023)", "–ù–æ–≤–µ–π—à–∏–π –¥–∏–∑–∞–π–Ω —Å —Ü–∏—Ñ—Ä–æ–π '6'")
        ]
        
        for title, description in poster_descriptions:
            self.stdout.write(f"  üî™ {title}: {description}")
        
        self.stdout.write(f"\nüß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:")
        test_steps = [
            "1. –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/",
            "2. –ù–∞–π–¥–∏—Ç–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Å–µ—Ö —Ñ–∏–ª—å–º–æ–≤ –ö—Ä–∏–∫",
            "3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–æ—Å—Ç–µ—Ä—ã –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ",
            "4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–æ–º–µ—Ä–∞ —á–∞—Å—Ç–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è",
            "5. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ - –¥–æ–ª–∂–Ω—ã –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã",
            "6. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ—Å—Ç–µ—Ä—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Ñ–∏–ª—å–º–æ–≤",
            "7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–æ–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é"
        ]
        
        for step in test_steps:
            self.stdout.write(f"  {step}")
        
        self.stdout.write(f"\nüéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:")
        expected_results = [
            "‚úÖ –í—Å–µ 6 —Ñ–∏–ª—å–º–æ–≤ –ö—Ä–∏–∫ –∏–º–µ—é—Ç —Å—Ç–∏–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã",
            "‚úÖ –ï–¥–∏–Ω—ã–π –¥–∏–∑–∞–π–Ω –≤ —Å—Ç–∏–ª–µ —É–∂–∞—Å–æ–≤",
            "‚úÖ –ß–µ—Ç–∫–∏–µ –Ω–æ–º–µ—Ä–∞ —á–∞—Å—Ç–µ–π –Ω–∞ –ø–æ—Å—Ç–µ—Ä–∞—Ö",
            "‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            "‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏",
            "‚úÖ –°–µ—Ä–∏—è –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Ñ—Ä–∞–Ω—à–∏–∑–∞",
            "‚úÖ –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ —É–∂–∞—Å–æ–≤ –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ"
        ]
        
        for result in expected_results:
            self.stdout.write(f"  {result}")
        
        self.stdout.write(f"\nüåü –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê:")
        advantages = [
            "üé® –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –∫–∞–∂–¥–æ–π —á–∞—Å—Ç–∏",
            "üîÑ –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –≤—Å–µ–π —Å–µ—Ä–∏–∏",
            "üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤",
            "‚ö° –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            "üñ±Ô∏è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏",
            "üé≠ –ê—Ç–º–æ—Å—Ñ–µ—Ä–Ω–æ—Å—Ç—å –∂–∞–Ω—Ä–∞ —É–∂–∞—Å–æ–≤",
            "üåê –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥ —Å–∞–π—Ç–∞"
        ]
        
        for advantage in advantages:
            self.stdout.write(f"  {advantage}")
        
        if with_posters == total_scream:
            self.stdout.write(self.style.SUCCESS(f"\nüéâ –í–°–Ø –°–ï–†–ò–Ø –ö–†–ò–ö –° –ü–û–°–¢–ï–†–ê–ú–ò!"))
            self.stdout.write("üî™ Ghostface –æ–¥–æ–±—Ä—è–µ—Ç!")
            self.stdout.write("üé¨ –§—Ä–∞–Ω—à–∏–∑–∞ –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ")
        
        self.stdout.write(f"\nüöÄ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:")
        future_features = [
            "üé≠ –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã –ø—Ä–∏ hover",
            "üñºÔ∏è –ì–∞–ª–µ—Ä–µ—è –≤—Å–µ—Ö –ø–æ—Å—Ç–µ—Ä–æ–≤ —Å–µ—Ä–∏–∏",
            "üîç –ü–æ–∏—Å–∫ –ø–æ —Ñ—Ä–∞–Ω—à–∏–∑–∞–º",
            "üì± –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è",
            "üé® –¢–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ –∂–∞–Ω—Ä–∞–º"
        ]
        
        for feature in future_features:
            self.stdout.write(f"  {feature}")
        
        self.stdout.write(self.style.SUCCESS(f"\nüî™ SCREAM FRANCHISE - –ü–û–°–¢–ï–†–´ –ì–û–¢–û–í–´!"))
        self.stdout.write("üé¨ TochkaFilms —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –ø–æ–ª–Ω—É—é —Å–µ—Ä–∏—é –ö—Ä–∏–∫")
        self.stdout.write("üñºÔ∏è —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –ø–æ—Å—Ç–µ—Ä–∞–º–∏ –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ!")
        
        self.stdout.write(f"\nüé≠ –ê–¢–ú–û–°–§–ï–†–ê –£–ñ–ê–°–û–í –°–û–ó–î–ê–ù–ê!")
        self.stdout.write("üëª –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ—Ü–µ–Ω—è—Ç –∫–∞—á–µ—Å—Ç–≤–æ –¥–∏–∑–∞–π–Ω–∞")
        self.stdout.write("üåü –°–∞–π—Ç –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä —É–∂–∞—Å–æ–≤!")