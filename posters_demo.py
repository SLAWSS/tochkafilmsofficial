from django.core.management.base import BaseCommand
from films.models import Film


class Command(BaseCommand):
    help = '–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –ø–æ—Å—Ç–µ—Ä–æ–≤'

    def handle(self, *args, **options):
        self.stdout.write("üé¨ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–• –ü–û–°–¢–ï–†–û–í")
        self.stdout.write("=" * 60)
        
        self.stdout.write(f"\n‚úÖ –ó–ê–î–ê–ß–ê –í–´–ü–û–õ–ù–ï–ù–ê!")
        
        self.stdout.write(f"\nüéØ –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û:")
        achievements = [
            "üì• –ó–∞–≥—Ä—É–∂–µ–Ω—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã —Å IMDB/Amazon",
            "üé® –°–æ–∑–¥–∞–Ω—ã —Å—Ç–∏–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã –¥–ª—è —Å–µ—Ä–∏–∏ –ö—Ä–∏–∫",
            "üñºÔ∏è 15 –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –ø–æ—Å—Ç–µ—Ä–æ–≤ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞",
            "üî™ 5 —Å—Ç–∏–ª—å–Ω—ã—Ö –ø–æ—Å—Ç–µ—Ä–æ–≤ –≤ —Å—Ç–∏–ª–µ —É–∂–∞—Å–æ–≤",
            "üìä 100% –ø–æ–∫—Ä—ã—Ç–∏–µ - –≤—Å–µ —Ñ–∏–ª—å–º—ã –∏–º–µ—é—Ç –ø–æ—Å—Ç–µ—Ä—ã",
            "üåü –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ —Å–∞–π—Ç–∞"
        ]
        
        for achievement in achievements:
            self.stdout.write(f"  {achievement}")
        
        self.stdout.write(f"\nüñºÔ∏è –¢–ò–ü–´ –ü–û–°–¢–ï–†–û–í:")
        poster_types = [
            "üé¨ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ (15 —à—Ç.) - –ù–∞—á–∞–ª–æ, –ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä, –¢–µ–º–Ω—ã–π —Ä—ã—Ü–∞—Ä—å, –∏ –¥—Ä.",
            "üî™ –ö—Ä–∏–∫-—Å—Ç–∏–ª—å (5 —à—Ç.) - –ö—Ä–∏–∫ 2, 3, 4, 5, 6 –≤ —Å—Ç–∏–ª–µ —É–∂–∞—Å–æ–≤",
            "üìä –û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ: 20/20 —Ñ–∏–ª—å–º–æ–≤ (100%)"
        ]
        
        for poster_type in poster_types:
            self.stdout.write(f"  {poster_type}")
        
        self.stdout.write(f"\nüåü –û–°–û–ë–ï–ù–ù–û–°–¢–ò:")
        features = [
            "üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã (400x600px)",
            "üé® –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            "üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è",
            "üìÅ –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ media/posters/",
            "üñ±Ô∏è –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏",
            "üé≠ –°—Ç–∏–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã —Å–µ—Ä–∏–∏ –ö—Ä–∏–∫ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏"
        ]
        
        for feature in features:
            self.stdout.write(f"  {feature}")
        
        self.stdout.write(f"\nüìã –°–ü–ò–°–û–ö –§–ò–õ–¨–ú–û–í –° –ü–û–°–¢–ï–†–ê–ú–ò:")
        
        # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã
        self.stdout.write(f"\nüñºÔ∏è –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ï –ü–û–°–¢–ï–†–´:")
        original_films = [
            "–ù–∞—á–∞–ª–æ (2010)", "–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä (2014)", "–¢–µ–º–Ω—ã–π —Ä—ã—Ü–∞—Ä—å (2008)",
            "–ü–æ–±–µ–≥ –∏–∑ –®–æ—É—à–µ–Ω–∫–∞ (1994)", "–§–æ—Ä—Ä–µ—Å—Ç –ì–∞–º–ø (1994)", "–ú–∞—Ç—Ä–∏—Ü–∞ (1999)",
            "–ö—Ä–∏–º–∏–Ω–∞–ª—å–Ω–æ–µ —á—Ç–∏–≤–æ (1994)", "–ë–æ–π—Ü–æ–≤—Å–∫–∏–π –∫–ª—É–± (1999)", "–ö—Ä–∏–∫ (1996)",
            "–î–∂–æ–Ω –£–∏–∫ (2014)", "–ú—Å—Ç–∏—Ç–µ–ª–∏: –§–∏–Ω–∞–ª (2019)", "–î–∂–æ–∫–µ—Ä (2019)",
            "–ü–∞—Ä–∞–∑–∏—Ç—ã (2019)", "–î—é–Ω–∞ (2021)", "–û–Ω–æ (2017)"
        ]
        
        for i, film in enumerate(original_films, 1):
            self.stdout.write(f"  {i:2d}. {film}")
        
        # –°—Ç–∏–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã –ö—Ä–∏–∫
        self.stdout.write(f"\nüî™ –°–¢–ò–õ–¨–ù–´–ï –ü–û–°–¢–ï–†–´ –ö–†–ò–ö:")
        scream_films = [
            "–ö—Ä–∏–∫ 2 (1997) - —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —Å –Ω–æ–º–µ—Ä–æ–º 2",
            "–ö—Ä–∏–∫ 3 (2000) - —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —Å –Ω–æ–º–µ—Ä–æ–º 3", 
            "–ö—Ä–∏–∫ 4 (2011) - —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —Å –Ω–æ–º–µ—Ä–æ–º 4",
            "–ö—Ä–∏–∫ 5 (2022) - —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —Å –Ω–æ–º–µ—Ä–æ–º 5",
            "–ö—Ä–∏–∫ 6 (2023) - —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —Å –Ω–æ–º–µ—Ä–æ–º 6"
        ]
        
        for i, film in enumerate(scream_films, 1):
            self.stdout.write(f"  {i}. {film}")
        
        self.stdout.write(f"\nüß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:")
        test_steps = [
            "1. –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/",
            "2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É - –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –ø–æ—Å—Ç–µ—Ä–∞–º–∏",
            "3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ü–∏—é '–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ' - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã",
            "4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ '–ù–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ' - –∫—Ä–∞—Å–∏–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è",
            "5. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±—É—é –∫–∞—Ä—Ç–æ—á–∫—É - –ø–æ—Å—Ç–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ–∏–ª—å–º–∞",
            "6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–∏—é –ö—Ä–∏–∫ - —Å—Ç–∏–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ",
            "7. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ"
        ]
        
        for step in test_steps:
            self.stdout.write(f"  {step}")
        
        self.stdout.write(f"\nüéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:")
        expected_results = [
            "‚úÖ –í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ñ–∏–ª—å–º–æ–≤ –∏–º–µ—é—Ç –∫—Ä–∞—Å–∏–≤—ã–µ –ø–æ—Å—Ç–µ—Ä—ã",
            "‚úÖ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã –≤—ã–≥–ª—è–¥—è—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ",
            "‚úÖ –°–µ—Ä–∏—è –ö—Ä–∏–∫ –∏–º–µ–µ—Ç –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å —É–∂–∞—Å–æ–≤",
            "‚úÖ –°–∞–π—Ç –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä",
            "‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è",
            "‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏"
        ]
        
        for result in expected_results:
            self.stdout.write(f"  {result}")
        
        self.stdout.write(f"\nüìä –§–ò–ù–ê–õ–¨–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê:")
        total_films = Film.objects.count()
        films_with_posters = Film.objects.exclude(poster='').count()
        
        stats = [
            f"üìÅ –í—Å–µ–≥–æ —Ñ–∏–ª—å–º–æ–≤: {total_films}",
            f"üñºÔ∏è –° –ø–æ—Å—Ç–µ—Ä–∞–º–∏: {films_with_posters}",
            f"üìä –ü–æ–∫—Ä—ã—Ç–∏–µ: {(films_with_posters/total_films*100):.1f}%",
            f"üé¨ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ: 15 —Ñ–∏–ª—å–º–æ–≤",
            f"üî™ –°—Ç–∏–ª—å–Ω—ã–µ –ö—Ä–∏–∫: 5 —Ñ–∏–ª—å–º–æ–≤",
            f"üíæ –†–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏ media/posters: ~2-3 MB"
        ]
        
        for stat in stats:
            self.stdout.write(f"  {stat}")
        
        self.stdout.write(self.style.SUCCESS(f"\nüéâ –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ï –ü–û–°–¢–ï–†–´ –î–û–ë–ê–í–õ–ï–ù–´!"))
        self.stdout.write("üåü TochkaFilms —Ç–µ–ø–µ—Ä—å –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä")
        self.stdout.write("üñºÔ∏è –ö–∞–∂–¥—ã–π —Ñ–∏–ª—å–º –∏–º–µ–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–π –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ—Å—Ç–µ—Ä")
        self.stdout.write("üé¨ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –æ—Ç–ª–∏—á–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç!")
        
        self.stdout.write(f"\nüöÄ –°–õ–ï–î–£–Æ–©–ò–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:")
        next_features = [
            "üé≠ –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ñ–∏–ª—å–º–æ–≤ —Å –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–æ–π –ø–æ—Å—Ç–µ—Ä–æ–≤",
            "üñºÔ∏è –°–æ–∑–¥–∞—Ç—å –≥–∞–ª–µ—Ä–µ—é –ø–æ—Å—Ç–µ—Ä–æ–≤",
            "üé® –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ—Å—Ç–µ—Ä–æ–≤",
            "üì± –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤",
            "üîç –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ –ø–æ—Å—Ç–µ—Ä–∞–º"
        ]
        
        for feature in next_features:
            self.stdout.write(f"  {feature}")
        
        self.stdout.write(self.style.SUCCESS(f"\nüé¨ TOCHKAFILMS - –ö–ò–ù–û–¢–ï–ê–¢–† –° –ö–†–ê–°–ò–í–´–ú–ò –ü–û–°–¢–ï–†–ê–ú–ò!"))