from django.core.management.base import BaseCommand
from films.models import Film


class Command(BaseCommand):
    help = '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π —Ñ–∏–ª—å–º–æ–≤'

    def handle(self, *args, **options):
        self.stdout.write("üìù –û–ë–ù–û–í–õ–ï–ù–ò–ï –û–ü–ò–°–ê–ù–ò–ô –§–ò–õ–¨–ú–û–í")
        self.stdout.write("=" * 50)
        
        # –£–ª—É—á—à–µ–Ω–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤
        descriptions = {
            '–ù–∞—á–∞–ª–æ': '–î–æ–º –ö–æ–±–± ‚Äî —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã–π –≤–æ—Ä, –ª—É—á—à–∏–π –∏–∑ –ª—É—á—à–∏—Ö –≤ –æ–ø–∞—Å–Ω–æ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è: –æ–Ω –∫—Ä–∞–¥–µ—Ç —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏—è –ª—é–¥–µ–π, –∫–æ–≥–¥–∞ –∏—Ö —Ä–∞–∑—É–º –Ω–∞–∏–±–æ–ª–µ–µ —É—è–∑–≤–∏–º ‚Äî –≤–æ –≤—Ä–µ–º—è —Å–Ω–∞. –†–µ–¥–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ö–æ–±–±–∞ —Å–¥–µ–ª–∞–ª–∏ –µ–≥–æ —Ü–µ–Ω–Ω—ã–º –∏–≥—Ä–æ–∫–æ–º –≤ –ø—Ä–∏–≤—ã—á–Ω–æ–º –∫ –ø—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤—É –º–∏—Ä–µ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ —à–ø–∏–æ–Ω–∞–∂–∞, –Ω–æ –æ–Ω–∏ –∂–µ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏ –µ–≥–æ –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –±–µ–≥–ª–µ—Ü–∞ –∏ –ª–∏—à–∏–ª–∏ –≤—Å–µ–≥–æ, —á—Ç–æ –æ–Ω –∫–æ–≥–¥–∞-–ª–∏–±–æ –ª—é–±–∏–ª. –ò –≤–æ—Ç —É –ö–æ–±–±–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —à–∞–Ω—Å –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏.',
            
            '–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä': '–ö–æ–≥–¥–∞ –∑–∞—Å—É—Ö–∞, –ø—ã–ª—å–Ω—ã–µ –±—É—Ä–∏ –∏ –≤—ã–º–∏—Ä–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏–π –ø—Ä–∏–≤–æ–¥—è—Ç —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–æ –∫ –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∫—Ä–∏–∑–∏—Å—É, –∫–æ–ª–ª–µ–∫—Ç–∏–≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π –∏ —É—á—ë–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–∫–≤–æ–∑—å —á–µ—Ä–≤–æ—Ç–æ—á–∏–Ω—É –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ, —á—Ç–æ–±—ã –ø—Ä–µ–≤–∑–æ–π—Ç–∏ –ø—Ä–µ–∂–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π —á–µ–ª–æ–≤–µ–∫–∞ –∏ –Ω–∞–π—Ç–∏ –ø–ª–∞–Ω–µ—Ç—É —Å –ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ –¥–ª—è —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞ —É—Å–ª–æ–≤–∏—è–º–∏. –§–µ—Ä–º–µ—Ä –∏ –±—ã–≤—à–∏–π –ø–∏–ª–æ—Ç –ù–ê–°–ê –ö—É–ø–µ—Ä –≤—ã–Ω—É–∂–¥–µ–Ω –æ—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ—é —Å–µ–º—å—é –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –≤ –º–µ–∂–∑–≤–µ–∑–¥–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ.',
            
            '–¢–µ–º–Ω—ã–π —Ä—ã—Ü–∞—Ä—å': '–ë—ç—Ç–º–µ–Ω –ø–æ–¥–Ω–∏–º–∞–µ—Ç —Å—Ç–∞–≤–∫–∏ –≤ –≤–æ–π–Ω–µ —Å –∫—Ä–∏–º–∏–Ω–∞–ª–æ–º. –° –ø–æ–º–æ—â—å—é –ª–µ–π—Ç–µ–Ω–∞–Ω—Ç–∞ –î–∂–∏–º–∞ –ì–æ—Ä–¥–æ–Ω–∞ –∏ –ø—Ä–æ–∫—É—Ä–æ—Ä–∞ –•–∞—Ä–≤–∏ –î–µ–Ω—Ç–∞ –æ–Ω –Ω–∞–º–µ—Ä–µ–Ω –æ—á–∏—Å—Ç–∏—Ç—å —É–ª–∏—Ü—ã –ì–æ—Ç—ç–º–∞ –æ—Ç –ø—Ä–µ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏. –°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º, –Ω–æ –≤—Å–∫–æ—Ä–µ –æ–Ω–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç —Å–µ–±—è –ø–æ—Å—Ä–µ–¥–∏ —Ö–∞–æ—Å–∞, —Ä–∞–∑–≤—è–∑–∞–Ω–Ω–æ–≥–æ –≤–æ—Å—Ö–æ–¥—è—â–∏–º –∫—Ä–∏–º–∏–Ω–∞–ª—å–Ω—ã–º –≥–µ–Ω–∏–µ–º, –∏–∑–≤–µ—Å—Ç–Ω—ã–º –Ω–∞–ø—É–≥–∞–Ω–Ω—ã–º –≥–æ—Ä–æ–∂–∞–Ω–∞–º –ø–æ–¥ –∏–º–µ–Ω–µ–º –î–∂–æ–∫–µ—Ä. –•–∞–æ—Å –∏ –∞–Ω–∞—Ä—Ö–∏—è ‚Äî –≤–æ—Ç –µ–≥–æ —Ü–µ–ª—å.',
            
            '–ü–æ–±–µ–≥ –∏–∑ –®–æ—É—à–µ–Ω–∫–∞': '–ë—É—Ö–≥–∞–ª—Ç–µ—Ä –≠–Ω–¥–∏ –î—é—Ñ—Ä–µ–π–Ω –æ–±–≤–∏–Ω—ë–Ω –≤ —É–±–∏–π—Å—Ç–≤–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –∂–µ–Ω—ã –∏ –µ—ë –ª—é–±–æ–≤–Ω–∏–∫–∞. –û–∫–∞–∑–∞–≤—à–∏—Å—å –≤ —Ç—é—Ä—å–º–µ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –®–æ—É—à–µ–Ω–∫, –æ–Ω —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å –∂–µ—Å—Ç–æ–∫–æ—Å—Ç—å—é –∏ –±–µ–∑–∑–∞–∫–æ–Ω–∏–µ–º, —Ü–∞—Ä—è—â–∏–º–∏ –ø–æ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã —Ä–µ—à—ë—Ç–∫–∏. –ö–∞–∂–¥—ã–π, –∫—Ç–æ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —ç—Ç–∏ —Å—Ç–µ–Ω—ã, —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏—Ö —Ä–∞–±–æ–º –¥–æ –∫–æ–Ω—Ü–∞ –∂–∏–∑–Ω–∏. –ù–æ –≠–Ω–¥–∏, –æ–±–ª–∞–¥–∞—é—â–∏–π –∂–∏–≤—ã–º —É–º–æ–º –∏ –¥–æ–±—Ä–æ–π –¥—É—à–æ–π, –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–¥—Ö–æ–¥—ã –∫–∞–∫ –∫ –∑–∞–∫–ª—é—á—ë–Ω–Ω—ã–º, —Ç–∞–∫ –∏ –∫ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞–º, –¥–æ–±–∏–≤–∞—è—Å—å –∏—Ö –æ—Å–æ–±–æ–≥–æ –∫ —Å–µ–±–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è.',
            
            '–§–æ—Ä—Ä–µ—Å—Ç –ì–∞–º–ø': '–°–∏–¥—è –Ω–∞ —Å–∫–∞–º–µ–π–∫–µ –Ω–∞ –∞–≤—Ç–æ–±—É—Å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–µ, –§–æ—Ä—Ä–µ—Å—Ç –ì–∞–º–ø ‚Äî –Ω–µ –æ—á–µ–Ω—å —É–º–Ω—ã–π, –Ω–æ –¥–æ–±—Ä—ã–π –∏ –æ—Ç–∫—Ä—ã—Ç—ã–π –ø–∞—Ä–µ–Ω—å ‚Äî —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–º –≤—Å—Ç—Ä–µ—á–Ω—ã–º –∏—Å—Ç–æ—Ä–∏—é —Å–≤–æ–µ–π –Ω–µ–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω–æ–π –∂–∏–∑–Ω–∏. –° –¥–µ—Ç—Å—Ç–≤–∞ —Å—Ç—Ä–∞–¥–∞—è –±–æ–ª–µ–∑–Ω—å—é –Ω–æ–≥, –æ–Ω –Ω–æ—Å–∏–ª –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–µ —Å–∫–æ–±—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–∑–≤–æ–ª—è–ª–∏ –µ–º—É –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ö–æ–¥–∏—Ç—å, –∞ –Ω–∏–∑–∫–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É–º—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è —Å—Ç–∞–≤–∏–ª –µ–≥–æ –≤ –æ–¥–∏–Ω —Ä—è–¥ —Å –ª—é–¥—å–º–∏ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —Å—É–¥—å–±–∞ –ø—Ä–µ–ø–æ–¥–Ω–æ—Å–∏—Ç –µ–º—É –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–µ —Å—é—Ä–ø—Ä–∏–∑—ã.',
            
            '–ú–∞—Ç—Ä–∏—Ü–∞': '–ñ–∏–∑–Ω—å –¢–æ–º–∞—Å–∞ –ê–Ω–¥–µ—Ä—Å–æ–Ω–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏: –¥–Ω—ë–º –æ–Ω ‚Äî —Å–∞–º—ã–π –æ–±—ã—á–Ω—ã–π –æ—Ñ–∏—Å–Ω—ã–π —Ä–∞–±–æ—Ç–Ω–∏–∫, –ø–æ–ª—É—á–∞—é—â–∏–π –Ω–∞–≥–æ–Ω—è–∏ –æ—Ç –Ω–∞—á–∞–ª—å—Å—Ç–≤–∞, –∞ –Ω–æ—á—å—é —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ö–∞–∫–µ—Ä–æ–º –ø–æ –ø—Ä–æ–∑–≤–∏—â—É –ù–µ–æ, –∏ –Ω–µ—Ç –º–µ—Å—Ç–∞ –≤ —Å–µ—Ç–∏, –∫—É–¥–∞ –æ–Ω –Ω–µ —Å–º–æ–≥ –±—ã –ø—Ä–æ–Ω–∏–∫–Ω—É—Ç—å. –ù–æ –æ–¥–Ω–∞–∂–¥—ã –≤—Å—ë –º–µ–Ω—è–µ—Ç—Å—è. –¢–æ–º–∞—Å —É–∑–Ω–∞—ë—Ç —É–∂–∞—Å–∞—é—â—É—é –ø—Ä–∞–≤–¥—É –æ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏: –≤–µ—Å—å –º–∏—Ä –≤–æ–∫—Ä—É–≥ ‚Äî –Ω–µ –±–æ–ª–µ–µ —á–µ–º –∏–ª–ª—é–∑–∏—è, –ú–∞—Ç—Ä–∏—Ü–∞, –∞ –ª—é–¥–∏ ‚Äî –≤—Å–µ–≥–æ –ª–∏—à—å –∏—Å—Ç–æ—á–Ω–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è –º–∞—à–∏–Ω.',
        }
        
        updated_count = 0
        for title, description in descriptions.items():
            try:
                film = Film.objects.get(title=title)
                film.description = description
                film.save()
                
                self.stdout.write(f"  ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ: {title}")
                updated_count += 1
                
            except Film.DoesNotExist:
                self.stdout.write(f"  ‚ö†Ô∏è –§–∏–ª—å–º '{title}' –Ω–µ –Ω–∞–π–¥–µ–Ω")
        
        self.stdout.write(f"\nüìä –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–π: {updated_count}")
        self.stdout.write(self.style.SUCCESS("üìù –û–ø–∏—Å–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã!"))