from django.core.management.base import BaseCommand
from films.models import Film


class Command(BaseCommand):
    help = '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å–º–æ–≤'

    def handle(self, *args, **options):
        self.stdout.write("üñ±Ô∏è –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ö–õ–ò–ö–ê–ë–ï–õ–¨–ù–û–°–¢–ò –§–ò–õ–¨–ú–û–í")
        self.stdout.write("=" * 60)
        
        self.stdout.write(self.style.SUCCESS("\n‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´!"))
        
        films = Film.objects.all()[:10]
        
        self.stdout.write(f"\nüé¨ –§–ò–õ–¨–ú–´ –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:")
        for i, film in enumerate(films, 1):
            self.stdout.write(f"  {i}. üì∫ {film.title} ({film.year})")
            self.stdout.write(f"     üîó http://127.0.0.1:8000/film/{film.pk}/")
        
        self.stdout.write(f"\nüîß –ü–†–ò–ú–ï–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:")
        fixes = [
            "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω pointer-events: auto !important",
            "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω z-index –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫",
            "‚úÖ –£–±—Ä–∞–Ω—ã –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã",
            "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö",
            "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω cursor: pointer",
            "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã",
            "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã debug —Å—Ç–∏–ª–∏ (outline)",
            "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã trailer –∫–Ω–æ–ø–∫–∏"
        ]
        
        for fix in fixes:
            self.stdout.write(f"  {fix}")
        
        self.stdout.write(f"\nüåê –ö–ê–ö –¢–ï–°–¢–ò–†–û–í–ê–¢–¨:")
        test_steps = [
            "1. üåê –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://127.0.0.1:8000/",
            "2. üè† –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É",
            "3. üñ±Ô∏è –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±—É—é –∫–∞—Ä—Ç–æ—á–∫—É —Ñ–∏–ª—å–º–∞",
            "4. ‚úÖ –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Ñ–∏–ª—å–º",
            "5. üîç –ü—Ä–æ–≤–µ—Ä—å—Ç–µ hover —ç—Ñ—Ñ–µ–∫—Ç—ã",
            "6. üì± –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º"
        ]
        
        for step in test_steps:
            self.stdout.write(f"  {step}")
        
        self.stdout.write(f"\nüéØ –ß–¢–û –ò–°–ö–ê–¢–¨:")
        what_to_look = [
            "üî¥ –ö—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ –ø—Ä–∏ hover (debug)",
            "üü¢ –ó–µ–ª–µ–Ω–∞—è —Ä–∞–º–∫–∞ –Ω–∞ —Å—Å—ã–ª–∫–∞—Ö (debug)",
            "üñ±Ô∏è –ö—É—Ä—Å–æ—Ä –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ pointer",
            "üì∫ –ö–∞—Ä—Ç–æ—á–∫–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ hover",
            "üîó –ö–ª–∏–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ñ–∏–ª—å–º–∞",
            "‚ö° –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç"
        ]
        
        for item in what_to_look:
            self.stdout.write(f"  {item}")
        
        self.stdout.write(f"\nüêõ –ï–°–õ–ò –ù–ï –†–ê–ë–û–¢–ê–ï–¢:")
        troubleshooting = [
            "üîÑ –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+F5)",
            "üåê –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä",
            "üîç –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12)",
            "‚ùå –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ JavaScript",
            "üñ±Ô∏è –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí '–û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ'",
            "üì± –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ"
        ]
        
        for item in troubleshooting:
            self.stdout.write(f"  {item}")
        
        self.stdout.write(f"\nüí° –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –¢–ï–°–¢–´:")
        additional_tests = [
            "‚å®Ô∏è –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (Tab)",
            "üñ±Ô∏è –ö–ª–∏–∫ –ø–æ —Ä–∞–∑–Ω—ã–º —á–∞—Å—Ç—è–º –∫–∞—Ä—Ç–æ—á–∫–∏",
            "üì∫ –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É —Ç—Ä–µ–π–ª–µ—Ä–∞",
            "üé≠ –ö–ª–∏–∫ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞",
            "üì∏ –ö–ª–∏–∫ –Ω–∞ –ø–æ—Å—Ç–µ—Ä",
            "‚≠ê –ö–ª–∏–∫ –Ω–∞ —Ä–µ–π—Ç–∏–Ω–≥"
        ]
        
        for test in additional_tests:
            self.stdout.write(f"  {test}")
        
        self.stdout.write(f"\nüé® DEBUG –°–¢–ò–õ–ò:")
        debug_info = [
            "üî¥ –ö—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ = hover –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ",
            "üü¢ –ó–µ–ª–µ–Ω–∞—è —Ä–∞–º–∫–∞ = hover –Ω–∞ —Å—Å—ã–ª–∫–µ",
            "üí° –≠—Ç–∏ —Ä–∞–º–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å —á—Ç–æ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ",
            "üóëÔ∏è –£–±–µ—Ä–∏—Ç–µ debug —Å—Ç–∏–ª–∏ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
        ]
        
        for info in debug_info:
            self.stdout.write(f"  {info}")
        
        self.stdout.write(f"\nüîó –ë–´–°–¢–†–´–ï –°–°–´–õ–ö–ò:")
        quick_links = [
            "üè† –ì–ª–∞–≤–Ω–∞—è: http://127.0.0.1:8000/",
            "üé¨ –ü–µ—Ä–≤—ã–π —Ñ–∏–ª—å–º: http://127.0.0.1:8000/film/1/",
            "üì∫ –í—Ç–æ—Ä–æ–π —Ñ–∏–ª—å–º: http://127.0.0.1:8000/film/2/",
            "üé≠ –¢—Ä–µ—Ç–∏–π —Ñ–∏–ª—å–º: http://127.0.0.1:8000/film/3/"
        ]
        
        for link in quick_links:
            self.stdout.write(f"  {link}")
        
        self.stdout.write(self.style.SUCCESS(f"\nüéâ –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ!"))
        self.stdout.write("üñ±Ô∏è –¢–µ–ø–µ—Ä—å –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ñ–∏–ª—å–º–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏")
        self.stdout.write("‚ú® —Å –∫—Ä–∞—Å–∏–≤—ã–º–∏ hover —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏!")
        
        self.stdout.write(f"\nüöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:")
        next_steps = [
            "1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å",
            "2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏",
            "3. –£–±–µ—Ä–∏—Ç–µ debug —Å—Ç–∏–ª–∏ –µ—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç",
            "4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º",
            "5. –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º!"
        ]
        
        for step in next_steps:
            self.stdout.write(f"  {step}")
        
        self.stdout.write(self.style.SUCCESS(f"\nüé¨ TOCHKAFILMS - –ö–õ–ò–ö–ê–ë–ï–õ–¨–ù–´–ï –§–ò–õ–¨–ú–´!"))